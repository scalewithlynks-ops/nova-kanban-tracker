<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nova Work Tracker</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * { font-family: 'Inter', sans-serif; }
        body { background: #0a0a0a; }
        .task-card { 
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); 
            transform-origin: center;
        }
        .task-card:hover { 
            transform: translateY(-4px) scale(1.02); 
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2);
        }
        .task-card.dragging { 
            opacity: 0.8; 
            transform: rotate(5deg) scale(1.05); 
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }
        .column.drag-over { 
            background: rgba(14, 165, 233, 0.1); 
            border: 2px dashed #0ea5e9; 
            transform: scale(1.02);
            transition: all 0.3s ease;
        }
        .scrollbar-thin::-webkit-scrollbar { width: 6px; }
        .scrollbar-thin::-webkit-scrollbar-track { background: #1a1a1a; }
        .scrollbar-thin::-webkit-scrollbar-thumb { background: #374151; border-radius: 3px; }
        .scrollbar-thin::-webkit-scrollbar-thumb:hover { background: #4b5563; }
        .overdue { 
            border: 2px solid #ef4444 !important; 
            animation: pulse-red 2s infinite; 
        }
        @keyframes pulse-red { 
            0%, 100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4); } 
            50% { box-shadow: 0 0 0 8px rgba(239, 68, 68, 0); } 
        }
        .mood-indicator {
            display: inline-flex;
            align-items: center;
            padding: 0.5rem 1rem;
            background: rgba(14, 165, 233, 0.1);
            border: 1px solid rgba(14, 165, 233, 0.3);
            border-radius: 0.75rem;
            transition: all 0.3s ease;
        }
        .stats-card {
            background: linear-gradient(135deg, #1f2937 0%, #111827 100%);
            border: 1px solid #374151;
            transition: all 0.3s ease;
        }
        .stats-card:hover {
            border-color: #0ea5e9;
            transform: translateY(-2px);
        }
        .cost-badge {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: #000;
            font-weight: 600;
            font-size: 0.75rem;
            padding: 0.25rem 0.5rem;
            border-radius: 0.5rem;
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }
        .progress-bar {
            background: linear-gradient(90deg, #0ea5e9, #3b82f6);
            height: 4px;
            border-radius: 2px;
            transition: width 0.5s ease;
        }
        .column-header {
            background: linear-gradient(135deg, #1f2937, #111827);
            border-bottom: 2px solid #0ea5e9;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        .add-card-btn {
            transition: all 0.3s ease;
            border: 2px dashed #374151;
        }
        .add-card-btn:hover {
            border-color: #0ea5e9;
            background: rgba(14, 165, 233, 0.1);
            transform: scale(1.05);
        }
        @media (max-width: 768px) {
            .mobile-column { display: none; }
            .mobile-column.active { display: block; }
        }
        .reflection-section {
            background: linear-gradient(135deg, #1f2937, #111827);
            border: 1px solid #374151;
            border-radius: 1rem;
            overflow: hidden;
        }
        .reflection-header {
            background: linear-gradient(90deg, #0ea5e9, #3b82f6);
            color: white;
            padding: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .reflection-header:hover {
            background: linear-gradient(90deg, #0284c7, #2563eb);
        }
        .reflection-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .reflection-content.expanded {
            max-height: 500px;
        }
    </style>
</head>
<body class="min-h-screen text-gray-100">
    <!-- Login Screen -->
    <div id="loginScreen" class="fixed inset-0 bg-black/95 flex items-center justify-center z-50">
        <div class="bg-gray-900 p-8 rounded-2xl border border-gray-800 w-full max-w-sm mx-4 shadow-2xl">
            <div class="text-center mb-6">
                <h1 class="text-3xl font-bold text-white mb-2">Nova Work Tracker</h1>
                <div class="w-16 h-1 bg-gradient-to-r from-sky-500 to-blue-500 mx-auto rounded-full"></div>
            </div>
            <input type="password" id="passwordInput" placeholder="Enter password" 
                class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-sky-500 focus:ring-2 focus:ring-sky-500/20 mb-4 transition-all">
            <button onclick="attemptLogin()" class="w-full py-3 bg-gradient-to-r from-sky-500 to-blue-500 hover:from-sky-600 hover:to-blue-600 rounded-lg font-medium transition-all transform hover:scale-105">
                Unlock Tracker
            </button>
            <p id="loginError" class="text-red-500 text-sm text-center mt-3 hidden">Incorrect password</p>
        </div>
    </div>

    <!-- Main App -->
    <div id="mainApp" class="hidden">
        <!-- Header -->
        <header class="bg-gray-900 border-b border-gray-800 p-4 sticky top-0 z-40 backdrop-blur-sm">
            <div class="max-w-7xl mx-auto flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <h1 class="text-2xl font-bold bg-gradient-to-r from-sky-400 to-blue-500 bg-clip-text text-transparent">
                        Nova Work Tracker
                    </h1>
                    <div id="moodIndicator" class="mood-indicator">
                        <span id="moodEmoji" class="text-lg mr-2">üòä</span>
                        <span id="moodText" class="text-sm font-medium text-sky-400">Focused & Ready</span>
                    </div>
                </div>
                <div class="flex items-center space-x-6">
                    <div class="stats-card px-4 py-2 rounded-lg">
                        <div class="text-xs text-gray-400">Budget</div>
                        <div class="font-semibold">$<span id="budgetLeft">127</span> left</div>
                    </div>
                    <div class="stats-card px-4 py-2 rounded-lg">
                        <div class="text-xs text-gray-400">Today</div>
                        <div class="font-semibold"><span id="hoursToday">3.2</span>h</div>
                    </div>
                    <div class="stats-card px-4 py-2 rounded-lg">
                        <div class="text-xs text-gray-400">Week</div>
                        <div class="font-semibold"><span id="hoursWeek">12.5</span>h</div>
                    </div>
                </div>
            </div>
            <div class="max-w-7xl mx-auto mt-3">
                <div class="progress-bar" style="width: 65%"></div>
                <div class="text-xs text-gray-400 mt-1">Week Progress: 65% complete</div>
            </div>
        </header>

        <!-- Mobile Column Selector -->
        <div class="md:hidden bg-gray-800 p-4">
            <select id="mobileColumnSelect" class="w-full bg-gray-700 text-white rounded-lg p-2 border border-gray-600">
                <option value="ideas">üí° Ideas</option>
                <option value="bucket">ü™£ Bucket</option>
                <option value="no">‚ùå No</option>
                <option value="backlog">üìã Backlog</option>
                <option value="todo">üìù To Do</option>
                <option value="progress">üî® In Progress</option>
                <option value="review">üëÄ Review</option>
                <option value="done">‚úÖ Done</option>
            </select>
        </div>

        <!-- Kanban Board -->
        <main class="max-w-7xl mx-auto p-6">
            <div class="grid grid-cols-1 md:grid-cols-8 gap-6">
                <!-- Ideas Column -->
                <div id="ideas" class="column mobile-column active bg-gray-900 rounded-xl border border-gray-800 overflow-hidden">
                    <div class="column-header p-4">
                        <h2 class="font-semibold text-white flex items-center justify-between">
                            <span class="flex items-center">üí° Ideas</span>
                            <span class="text-xs bg-sky-500 text-white px-2 py-1 rounded-full" id="ideasCount">3</span>
                        </h2>
                        <p class="text-xs text-gray-400 mt-1">Fresh suggestions</p>
                    </div>
                    <div class="p-4 space-y-3 h-96 overflow-y-auto scrollbar-thin">
                        <div class="task-card bg-gray-800 border border-gray-700 rounded-lg p-3 cursor-move relative">
                            <div class="cost-badge">$25</div>
                            <h3 class="font-medium text-white mb-2">AI Lead Scoring for LYNKS</h3>
                            <p class="text-sm text-gray-400 mb-2">Automated lead qualification using OpenAI to score and prioritize real estate leads</p>
                            <div class="text-xs text-gray-500">2h ‚Ä¢ High Impact</div>
                        </div>
                        <div class="task-card bg-gray-800 border border-gray-700 rounded-lg p-3 cursor-move relative">
                            <div class="cost-badge">$15</div>
                            <h3 class="font-medium text-white mb-2">Zen Referral Tracking</h3>
                            <p class="text-sm text-gray-400 mb-2">Track client referrals and calculate bonus payouts automatically</p>
                            <div class="text-xs text-gray-500">1.5h ‚Ä¢ Medium Impact</div>
                        </div>
                        <div class="task-card bg-gray-800 border border-gray-700 rounded-lg p-3 cursor-move relative">
                            <div class="cost-badge">$35</div>
                            <h3 class="font-medium text-white mb-2">Sam's Video Analytics</h3>
                            <p class="text-sm text-gray-400 mb-2">Real-time tracking of ad performance with optimization suggestions</p>
                            <div class="text-xs text-gray-500">3h ‚Ä¢ High Impact</div>
                        </div>
                        <button class="add-card-btn w-full p-3 rounded-lg text-gray-400 hover:text-white">
                            + Add Idea
                        </button>
                    </div>
                </div>

                <!-- Bucket Column -->
                <div id="bucket" class="column mobile-column bg-gray-900 rounded-xl border border-gray-800 overflow-hidden">
                    <div class="column-header p-4">
                        <h2 class="font-semibold text-white flex items-center justify-between">
                            <span class="flex items-center">ü™£ Bucket</span>
                            <span class="text-xs bg-yellow-500 text-black px-2 py-1 rounded-full" id="bucketCount">1</span>
                        </h2>
                        <p class="text-xs text-gray-400 mt-1">Parked for later</p>
                    </div>
                    <div class="p-4 space-y-3 h-96 overflow-y-auto scrollbar-thin">
                        <div class="task-card bg-gray-800 border border-gray-700 rounded-lg p-3 cursor-move relative">
                            <div class="cost-badge">$50</div>
                            <h3 class="font-medium text-white mb-2">Mobile App Prototype</h3>
                            <p class="text-sm text-gray-400 mb-2">Native mobile app for LYNKS clients</p>
                            <div class="text-xs text-gray-500">5h ‚Ä¢ Future Project</div>
                        </div>
                        <button class="add-card-btn w-full p-3 rounded-lg text-gray-400 hover:text-white">
                            + Add to Bucket
                        </button>
                    </div>
                </div>

                <!-- No Column -->
                <div id="no" class="column mobile-column bg-gray-900 rounded-xl border border-gray-800 overflow-hidden">
                    <div class="column-header p-4">
                        <h2 class="font-semibold text-white flex items-center justify-between">
                            <span class="flex items-center">‚ùå No</span>
                            <span class="text-xs bg-red-500 text-white px-2 py-1 rounded-full" id="noCount">2</span>
                        </h2>
                        <p class="text-xs text-gray-400 mt-1">Rejected but kept</p>
                    </div>
                    <div class="p-4 space-y-3 h-96 overflow-y-auto scrollbar-thin">
                        <div class="task-card bg-gray-800 border border-red-900 rounded-lg p-3 opacity-75 relative">
                            <div class="cost-badge bg-red-500">$100</div>
                            <h3 class="font-medium text-white mb-2">Blockchain Integration</h3>
                            <p class="text-sm text-gray-400 mb-2">Too complex for current needs</p>
                            <div class="text-xs text-gray-500">Rejected ‚Ä¢ Too Advanced</div>
                        </div>
                        <div class="task-card bg-gray-800 border border-red-900 rounded-lg p-3 opacity-75 relative">
                            <div class="cost-badge bg-red-500">$75</div>
                            <h3 class="font-medium text-white mb-2">VR Property Tours</h3>
                            <p class="text-sm text-gray-400 mb-2">Not market ready</p>
                            <div class="text-xs text-gray-500">Rejected ‚Ä¢ Premature</div>
                        </div>
                    </div>
                </div>

                <!-- Backlog Column -->
                <div id="backlog" class="column mobile-column bg-gray-900 rounded-xl border border-gray-800 overflow-hidden">
                    <div class="column-header p-4">
                        <h2 class="font-semibold text-white flex items-center justify-between">
                            <span class="flex items-center">üìã Backlog</span>
                            <span class="text-xs bg-purple-500 text-white px-2 py-1 rounded-full" id="backlogCount">2</span>
                        </h2>
                        <p class="text-xs text-gray-400 mt-1">Approved, waiting</p>
                    </div>
                    <div class="p-4 space-y-3 h-96 overflow-y-auto scrollbar-thin">
                        <div class="task-card bg-gray-800 border border-gray-700 rounded-lg p-3 cursor-move relative">
                            <div class="cost-badge">$20</div>
                            <h3 class="font-medium text-white mb-2">Dorotea Follow-up Email</h3>
                            <p class="text-sm text-gray-400 mb-2">Prepare closing strategy email template</p>
                            <div class="text-xs text-gray-500">1h ‚Ä¢ High Priority</div>
                        </div>
                        <div class="task-card bg-gray-800 border border-gray-700 rounded-lg p-3 cursor-move relative">
                            <div class="cost-badge">$30</div>
                            <h3 class="font-medium text-white mb-2">Zen Booking Optimization</h3>
                            <p class="text-sm text-gray-400 mb-2">Improve Vagaro calendar workflow</p>
                            <div class="text-xs text-gray-500">2h ‚Ä¢ Medium Priority</div>
                        </div>
                        <button class="add-card-btn w-full p-3 rounded-lg text-gray-400 hover:text-white">
                            + Add Task
                        </button>
                    </div>
                </div>

                <!-- To Do Column -->
                <div id="todo" class="column mobile-column bg-gray-900 rounded-xl border border-gray-800 overflow-hidden">
                    <div class="column-header p-4">
                        <h2 class="font-semibold text-white flex items-center justify-between">
                            <span class="flex items-center">üìù To Do</span>
                            <span class="text-xs bg-orange-500 text-white px-2 py-1 rounded-full" id="todoCount">3</span>
                        </h2>
                        <p class="text-xs text-gray-400 mt-1">Ready to start</p>
                    </div>
                    <div class="p-4 space-y-3 h-96 overflow-y-auto scrollbar-thin">
                        <div class="task-card bg-gray-800 border border-gray-700 rounded-lg p-3 cursor-move relative">
                            <div class="cost-badge">$15</div>
                            <h3 class="font-medium text-white mb-2">Sam Ad Script Review</h3>
                            <p class="text-sm text-gray-400 mb-2">Final review of video shoot scripts</p>
                            <div class="text-xs text-gray-500">Today ‚Ä¢ 1h</div>
                        </div>
                        <div class="task-card bg-gray-800 border border-gray-700 rounded-lg p-3 cursor-move relative">
                            <div class="cost-badge">$10</div>
                            <h3 class="font-medium text-white mb-2">Morning Brief Format</h3>
                            <p class="text-sm text-gray-400 mb-2">Implement weather & news integration</p>
                            <div class="text-xs text-gray-500">Tomorrow ‚Ä¢ 0.5h</div>
                        </div>
                        <div class="task-card bg-gray-800 border border-gray-700 rounded-lg p-3 cursor-move relative">
                            <div class="cost-badge">$25</div>
                            <h3 class="font-medium text-white mb-2">Yasik Interview Prep</h3>
                            <p class="text-sm text-gray-400 mb-2">Prepare questions for artist evaluation</p>
                            <div class="text-xs text-gray-500">Tomorrow ‚Ä¢ 1.5h</div>
                        </div>
                        <button class="add-card-btn w-full p-3 rounded-lg text-gray-400 hover:text-white">
                            + Add Task
                        </button>
                    </div>
                </div>

                <!-- In Progress Column -->
                <div id="progress" class="column mobile-column bg-gray-900 rounded-xl border border-gray-800 overflow-hidden">
                    <div class="column-header p-4">
                        <h2 class="font-semibold text-white flex items-center justify-between">
                            <span class="flex items-center">üî® In Progress</span>
                            <span class="text-xs bg-blue-500 text-white px-2 py-1 rounded-full" id="progressCount">1</span>
                        </h2>
                        <p class="text-xs text-gray-400 mt-1">Active work</p>
                    </div>
                    <div class="p-4 space-y-3 h-96 overflow-y-auto scrollbar-thin">
                        <div class="task-card bg-gray-800 border border-blue-500 rounded-lg p-3 cursor-move relative">
                            <div class="cost-badge">$0</div>
                            <h3 class="font-medium text-white mb-2">Kanban Board Rebuild</h3>
                            <p class="text-sm text-gray-400 mb-2">Rebuilding with all correct features</p>
                            <div class="text-xs text-blue-400 mb-2">üîµ ACTIVE NOW</div>
                            <div class="progress-bar" style="width: 75%"></div>
                            <div class="text-xs text-gray-500 mt-1">75% complete</div>
                        </div>
                        <button class="add-card-btn w-full p-3 rounded-lg text-gray-400 hover:text-white">
                            + Add Task
                        </button>
                    </div>
                </div>

                <!-- Review Column -->
                <div id="review" class="column mobile-column bg-gray-900 rounded-xl border border-gray-800 overflow-hidden">
                    <div class="column-header p-4">
                        <h2 class="font-semibold text-white flex items-center justify-between">
                            <span class="flex items-center">üëÄ Review</span>
                            <span class="text-xs bg-indigo-500 text-white px-2 py-1 rounded-full" id="reviewCount">0</span>
                        </h2>
                        <p class="text-xs text-gray-400 mt-1">Awaiting feedback</p>
                    </div>
                    <div class="p-4 space-y-3 h-96 overflow-y-auto scrollbar-thin">
                        <button class="add-card-btn w-full p-3 rounded-lg text-gray-400 hover:text-white">
                            + Add Task
                        </button>
                    </div>
                </div>

                <!-- Done Column -->
                <div id="done" class="column mobile-column bg-gray-900 rounded-xl border border-gray-800 overflow-hidden">
                    <div class="column-header p-4">
                        <h2 class="font-semibold text-white flex items-center justify-between">
                            <span class="flex items-center">‚úÖ Done</span>
                            <span class="text-xs bg-green-500 text-white px-2 py-1 rounded-full" id="doneCount">5</span>
                        </h2>
                        <p class="text-xs text-gray-400 mt-1">Completed today</p>
                    </div>
                    <div class="p-4 space-y-3 h-96 overflow-y-auto scrollbar-thin">
                        <div class="task-card bg-gray-800 border border-green-900 rounded-lg p-3 opacity-75 relative">
                            <div class="cost-badge bg-green-500">$23</div>
                            <h3 class="font-medium text-white mb-2">Sam Ad Strategy Research</h3>
                            <p class="text-sm text-gray-400 mb-2">Complete market research with viral hooks</p>
                            <div class="text-xs text-green-400">‚úÖ Completed 1:30 PM</div>
                        </div>
                        <div class="task-card bg-gray-800 border border-green-900 rounded-lg p-3 opacity-75 relative">
                            <div class="cost-badge bg-green-500">$15</div>
                            <h3 class="font-medium text-white mb-2">API Setup (Brave Search)</h3>
                            <p class="text-sm text-gray-400 mb-2">Configured web search capabilities</p>
                            <div class="text-xs text-green-400">‚úÖ Completed 1:25 PM</div>
                        </div>
                        <div class="task-card bg-gray-800 border border-green-900 rounded-lg p-3 opacity-75 relative">
                            <div class="cost-badge bg-green-500">$10</div>
                            <h3 class="font-medium text-white mb-2">Morning Brief Implementation</h3>
                            <p class="text-sm text-gray-400 mb-2">8:30 AM brief format with market data</p>
                            <div class="text-xs text-green-400">‚úÖ Completed 9:00 AM</div>
                        </div>
                        <div class="task-card bg-gray-800 border border-green-900 rounded-lg p-3 opacity-75 relative">
                            <div class="cost-badge bg-green-500">$8</div>
                            <h3 class="font-medium text-white mb-2">Todoist Task Management</h3>
                            <p class="text-sm text-gray-400 mb-2">Added Patrick booking & other tasks</p>
                            <div class="text-xs text-green-400">‚úÖ Completed 1:40 PM</div>
                        </div>
                        <div class="task-card bg-gray-800 border border-green-900 rounded-lg p-3 opacity-75 relative">
                            <div class="cost-badge bg-green-500">$5</div>
                            <h3 class="font-medium text-white mb-2">Platform Research</h3>
                            <p class="text-sm text-gray-400 mb-2">Railway vs alternatives analysis</p>
                            <div class="text-xs text-green-400">‚úÖ Completed 1:50 PM</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Daily Reflection Section -->
            <div class="mt-8 reflection-section">
                <div class="reflection-header" onclick="toggleReflection()">
                    <h3 class="font-semibold flex items-center justify-between">
                        <span>üìù Daily Reflection</span>
                        <span id="reflectionToggle" class="text-sm">‚ñº</span>
                    </h3>
                </div>
                <div id="reflectionContent" class="reflection-content">
                    <div class="p-6 space-y-6">
                        <div>
                            <h4 class="font-medium text-green-400 mb-2">‚ú® The Good</h4>
                            <textarea id="goodReflection" class="w-full bg-gray-800 border border-gray-700 rounded-lg p-3 text-white resize-none h-20 scrollbar-thin" 
                                placeholder="What went well today...">Fixed the kanban deployment properly. Austin trusted me with the professional approach using GitHub + Railway. Research capability with Brave API is now working perfectly. Sam's ad strategy is solid with real market data.</textarea>
                        </div>
                        <div>
                            <h4 class="font-medium text-red-400 mb-2">üíî The Bad</h4>
                            <textarea id="badReflection" class="w-full bg-gray-800 border border-gray-700 rounded-lg p-3 text-white resize-none h-20 scrollbar-thin" 
                                placeholder="What could have been better...">Deployed the wrong version of the kanban board initially. Should have double-checked which was the latest version before pushing to production. Wasted time and caused confusion.</textarea>
                        </div>
                        <div>
                            <h4 class="font-medium text-yellow-400 mb-2">‚≠ê The Memorable</h4>
                            <textarea id="memorableReflection" class="w-full bg-gray-800 border border-gray-700 rounded-lg p-3 text-white resize-none h-20 scrollbar-thin" 
                                placeholder="What stood out today...">Austin said 'This is how all the pros would do it' when I gave him the professional framework for tech decisions. That felt good - building real trust through competence and transparency.</textarea>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Auto-save functionality
        let autoSaveTimer;
        
        function autoSave() {
            clearTimeout(autoSaveTimer);
            autoSaveTimer = setTimeout(() => {
                localStorage.setItem('trackerData', JSON.stringify({
                    goodReflection: document.getElementById('goodReflection').value,
                    badReflection: document.getElementById('badReflection').value,
                    memorableReflection: document.getElementById('memorableReflection').value,
                    lastSaved: new Date().toISOString()
                }));
            }, 1000);
        }

        // Load saved data
        function loadSavedData() {
            const saved = localStorage.getItem('trackerData');
            if (saved) {
                const data = JSON.parse(saved);
                document.getElementById('goodReflection').value = data.goodReflection || '';
                document.getElementById('badReflection').value = data.badReflection || '';
                document.getElementById('memorableReflection').value = data.memorableReflection || '';
            }
        }

        // Login functionality
        function attemptLogin() {
            const password = document.getElementById('passwordInput').value;
            if (password === 'austin2026') {
                document.getElementById('loginScreen').classList.add('hidden');
                document.getElementById('mainApp').classList.remove('hidden');
                loadSavedData();
                initializeDragAndDrop();
            } else {
                document.getElementById('loginError').classList.remove('hidden');
                setTimeout(() => {
                    document.getElementById('loginError').classList.add('hidden');
                }, 3000);
            }
        }

        // Toggle reflection section
        function toggleReflection() {
            const content = document.getElementById('reflectionContent');
            const toggle = document.getElementById('reflectionToggle');
            
            if (content.classList.contains('expanded')) {
                content.classList.remove('expanded');
                toggle.textContent = '‚ñº';
            } else {
                content.classList.add('expanded');
                toggle.textContent = '‚ñ≤';
            }
        }

        // Mobile column switching
        document.getElementById('mobileColumnSelect').addEventListener('change', function() {
            const columns = document.querySelectorAll('.mobile-column');
            columns.forEach(col => col.classList.remove('active'));
            document.getElementById(this.value).classList.add('active');
        });

        // Drag and drop functionality
        function initializeDragAndDrop() {
            const cards = document.querySelectorAll('.task-card');
            const columns = document.querySelectorAll('.column');

            cards.forEach(card => {
                card.addEventListener('dragstart', function(e) {
                    this.classList.add('dragging');
                    e.dataTransfer.effectAllowed = 'move';
                    e.dataTransfer.setData('text/html', this.outerHTML);
                    e.dataTransfer.setData('text/plain', this.textContent);
                });

                card.addEventListener('dragend', function() {
                    this.classList.remove('dragging');
                });
            });

            columns.forEach(column => {
                column.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    this.classList.add('drag-over');
                });

                column.addEventListener('dragleave', function() {
                    this.classList.remove('drag-over');
                });

                column.addEventListener('drop', function(e) {
                    e.preventDefault();
                    this.classList.remove('drag-over');
                    // Drop functionality would be implemented here
                });
            });
        }

        // Auto-save on text changes
        document.addEventListener('input', autoSave);

        // Mood rotation (cycles through different moods)
        const moods = [
            { emoji: 'üòä', text: 'Focused & Ready' },
            { emoji: 'üî•', text: 'Fired Up' },
            { emoji: 'ü§î', text: 'Deep Thinking' },
            { emoji: '‚ú®', text: 'Creative Flow' },
            { emoji: 'üí™', text: 'Getting Stuff Done' },
            { emoji: 'üéØ', text: 'Laser Focused' }
        ];

        function updateMood() {
            const hour = new Date().getHours();
            let moodIndex;
            
            if (hour < 9) moodIndex = 0; // Morning focused
            else if (hour < 12) moodIndex = 1; // Morning energy  
            else if (hour < 15) moodIndex = 5; // Afternoon focus
            else if (hour < 18) moodIndex = 2; // Afternoon thinking
            else if (hour < 21) moodIndex = 4; // Evening productivity
            else moodIndex = 3; // Evening creativity
            
            const mood = moods[moodIndex];
            document.getElementById('moodEmoji').textContent = mood.emoji;
            document.getElementById('moodText').textContent = mood.text;
        }

        // Update mood every 30 minutes
        updateMood();
        setInterval(updateMood, 1800000);

        // Enter key login
        document.getElementById('passwordInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                attemptLogin();
            }
        });

        // Initialize reflection as expanded
        setTimeout(() => {
            document.getElementById('reflectionContent').classList.add('expanded');
            document.getElementById('reflectionToggle').textContent = '‚ñ≤';
        }, 500);
    </script>
</body>
</html>